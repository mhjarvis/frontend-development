---
import data from "../assets/data.json"
import Card from "./Card.astro"

const defaultTimeframe = "weekly"
const filteredData = data.map((item) => ({
	...item,
	timeframeData: item.timeframes[defaultTimeframe],
}))
---

<div>
	<button id="weekly" class="timeframe-button" data-timeframe="weekly"
		>Weekly</button
	>
	<button id="daily" class="timeframe-button" data-timeframe="daily"
		>Daily</button
	>
	<button id="monthly" class="timeframe-button" data-timeframe="monthly"
		>Monthly</button
	>
</div>

<div id="profile__container">
	{
		filteredData.map((item) => (
			<Card data={item.timeframeData} title={item.title} />
		))
	}
</div>

<script>
	/*  const buttons = document.querySelectorAll('.timeframe-button');
  const container = document.getElementById('profile__container');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const timeframe = button.dataset.timeframe;
      const updatedData = {JSON.stringify(data)}.map(item => ({
        ...item,
        timeframeData: item.timeframes[timeframe]
      }));
      container.innerHTML = updatedData.map(item => `
        <div class="card">
          <h2>${item.title}</h2>
          <p>Current: ${item.timeframeData.current}</p>
          <p>Previous: ${item.timeframeData.previous}</p>
        </div>
      `).join('');
    });
  }); */
</script>

<!-- ---
import data from "../assets/data.json"
import Card from "./Card.astro"

const weekly = document.getElementById("weekly")
const container = document.getElementById("profile__container")

weekly.addEventListener("click", () => {
    container.innerHTML = {
        data.map((data) => (
            <Card data={data.timeframes.weekly} title={data.title} />
        ))
    }
})

const test = data.map((data) => {
    data.timeframes.daily.current
})

--- -->
